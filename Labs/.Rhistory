geom_bar(stat='identity') +
geom_hline(yintercept = mean(points_salary$cost_point), color = "red") +
coord_flip() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams") +
theme_wsj()
ggplot(points_salary, aes(x=reorder(team, cost_point), y=cost_point)) +
geom_bar(stat='identity') +
geom_hline(yintercept = mean(points_salary$cost_point), color = "red") +
coord_flip() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams") +
theme_stata()
ggplot(points_salary, aes(x=reorder(team, cost_point), y=cost_point)) +
geom_bar(stat='identity') +
geom_hline(yintercept = mean(points_salary$cost_point), color = "red") +
coord_flip() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams") +
theme_fivethirtyeight()
ggplot(points_salary, aes(x=reorder(team, cost_point), y=cost_point)) +
geom_bar(stat='identity') +
geom_hline(yintercept = mean(points_salary$cost_point), color = "red") +
coord_flip() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams") +
theme_solarized()
theme(legend.position = c(0.95, 0.95), legend.justification = c("right", "bottom") +
ggplot(points_salary, aes(x=reorder(team, cost_point), y=cost_point)) +
geom_bar(stat='identity') +
geom_hline(yintercept = mean(points_salary$cost_point), color = "red") +
coord_flip() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams") +
theme(legend.position = c(0.95, 0.95), legend.justification = c("right", "bottom")) +
theme_solarized()
ggplot(points_salary, aes(x=reorder(team, cost_point), y=cost_point)) +
geom_bar(stat='identity') +
geom_hline(yintercept = mean(points_salary$cost_point), color = "red") +
coord_flip() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams") +
theme(legend.position = c(0.95, 0.95), legend.justification = c("right", "bottom")) +
theme_solarized()
ggplot(points_salary, aes(x=reorder(team, cost_point), y=cost_point)) +
geom_bar(stat='identity') +
geom_hline(yintercept = mean(points_salary$cost_point), color = "red") +
coord_flip() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams") +
theme_solarized() +
scale_colour_manual(name="Line Color",
values=c(myline1="red", myline2="blue", myline3="purple"))
ggplot(points_salary, aes(x=reorder(team, cost_point), y=cost_point)) +
geom_bar(stat='identity') +
geom_hline(yintercept = mean(points_salary$cost_point), color = "red") +
coord_flip() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams") +
scale_linetype_manual(name = "limit", values = c(2, 2),
guide = guide_legend(override.aes = list(color = c("blue", "red"))))
ggplot(points_salary, aes(x=reorder(team, cost_point), y=cost_point)) +
geom_bar(stat='identity') +
geom_hline(yintercept = mean(points_salary$cost_point), color = "red") +
coord_flip() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams") +
scale_linetype_manual(name = "limit", values = c(1,1),
guide = guide_legend(override.aes = list(color = c("red"))))
ggplot(points_salary, aes(x=reorder(team, cost_point), y=cost_point)) +
geom_bar(stat='identity') +
geom_hline(yintercept = mean(points_salary$cost_point), color = "red") +
coord_flip() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams") +
scale_linetype_manual(name = "limit", values = c(1),
guide = guide_legend(override.aes = list(color = c("red"))))
ggplot(points_salary, aes(x=reorder(team, cost_point), y=cost_point)) +
geom_bar(stat='identity') +
geom_hline(yintercept = mean(points_salary$cost_point), color = "red") +
#coord_flip() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams") +
scale_linetype_manual(name = "limit", values = c(1),
guide = guide_legend(override.aes = list(color = c("red"))))
ggplot(points_salary, aes(x=reorder(team, cost_point), y=cost_point)) +
geom_bar(stat='identity') +
geom_hline(aes(yintercept = mean(points_salary$cost_point)), color = "red") +
#coord_flip() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams") +
scale_linetype_manual(name = "limit", values = c(1),
guide = guide_legend(override.aes = list(color = c("red"))))
ggplot(points_salary, aes(x=reorder(team, cost_point), y=cost_point)) +
geom_bar(stat='identity') +
geom_hline(aes(yintercept = mean(points_salary$cost_point)), color = "red", show.legend = TRUE) +
#coord_flip() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams") +
scale_linetype_manual(name = "limit", values = c(1),
guide = guide_legend(override.aes = list(color = c("red"))))
ggplot(points_salary, aes(x=reorder(team, cost_point), y=cost_point)) +
geom_bar(stat='identity') +
geom_hline(aes(yintercept = mean(points_salary$cost_point)), color = "red", show.legend = TRUE) +
#coord_flip() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams")
ggplot(points_salary, aes(x=reorder(team, cost_point), y=cost_point)) +
geom_bar(stat='identity') +
geom_hline(aes(yintercept = mean(points_salary$cost_point)), color = "red", show.legend = TRUE) +
coord_flip() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams")
ggplot(points_salary, aes(x=reorder(team, cost_point), y=cost_point)) +
geom_bar(stat='identity') +
geom_hline(aes(yintercept = mean(points_salary$cost_point)), color = "red", show.legend = TRUE) +
coord_flip() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams") +
scale_linetype_manual(name = "limit", values = c(1), guide = guide_legend(override.aes = list(color = c("red"))))
ggplot(points_salary, aes(x=reorder(team, cost_point), y=cost_point)) +
geom_bar(stat='identity') +
geom_hline(aes(yintercept = mean(points_salary$cost_point)), color = "red", show.legend = TRUE) +
coord_flip() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams") +
scale_linetype_manual(name = "limit", values = c(1,1), guide = guide_legend(override.aes = list(color = c("red"))))
ggplot(points_salary, aes(x=reorder(team, cost_point), y=cost_point)) +
geom_bar(stat='identity') +
geom_hline(aes(yintercept = mean(points_salary$cost_point)), color = "red", show.legend = TRUE) +
coord_flip() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams") +
scale_linetype_manual(name = "limit", values = c(2,2), guide = guide_legend(override.aes = list(color = c("red"))))
ggplot(points_salary, aes(x=reorder(team, cost_point), y=cost_point)) +
geom_bar(stat='identity') +
geom_hline(aes(yintercept = mean(points_salary$cost_point), linetype = "Average Cost per Point"), color = "red", show.legend = TRUE) +
coord_flip() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams") +
scale_linetype_manual(name = "limit", values = c(2,2), guide = guide_legend(override.aes = list(color = c("red"))))
ggplot(points_salary, aes(x=reorder(team, cost_point), y=cost_point)) +
geom_bar(stat='identity') +
geom_hline(aes(yintercept = mean(points_salary$cost_point), linetype = "Average Cost per Point"), color = "red", show.legend = TRUE) +
coord_flip() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams") +
scale_linetype_manual(name = "limit", values = c(1,1), guide = guide_legend(override.aes = list(color = c("red"))))
ggplot(points_salary, aes(x=reorder(team, cost_point), y=cost_point)) +
geom_bar(stat='identity') +
geom_hline(aes(yintercept = mean(points_salary$cost_point), linetype = "Average Cost per Point"), color = "red", show.legend = TRUE) +
coord_flip() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams") +
scale_linetype_manual(name = "Legend", values = c(1,1), guide = guide_legend(override.aes = list(color = c("red"))))
ggplot(points_salary, aes(x=reorder(team, cost_point), y=cost_point)) +
geom_bar(stat='identity') +
geom_hline(aes(yintercept = mean(points_salary$cost_point), linetype = "Average Cost per Point"), color = "red", show.legend = TRUE) +
coord_flip() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams") +
scale_linetype_manual(name = "Legend", values = c(2,2), guide = guide_legend(override.aes = list(color = c("red"))))
ggplot(points_salary, aes(x=reorder(team, cost_point), y=cost_point)) +
geom_bar(stat='identity') +
geom_hline(aes(yintercept = mean(points_salary$cost_point), linetype = "Average Cost per Point"), color = "red", show.legend = TRUE) +
coord_flip() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams") +
scale_linetype_manual(name = "Legend", values = c(3), guide = guide_legend(override.aes = list(color = c("red"))))
ggplot(points_salary, aes(x=reorder(team, cost_point), y=cost_point)) +
geom_bar(stat='identity') +
geom_hline(aes(yintercept = mean(points_salary$cost_point), linetype = "Average Cost per Point"), color = "red", show.legend = TRUE) +
coord_flip() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams") +
scale_linetype_manual(name = "Legend", values = c(2), guide = guide_legend(override.aes = list(color = c("red"))))
qf <- points_salary %>% mutate(cost_point_quartile = ntile(cost_point, 4))
qf
qf <- points_salary %>% mutate(cost_point_quartile = ntile(cost_point, 4))
qf
qf <- points_salary %>% mutate(cost_point_quartile = as.factor(ntile(cost_point, 4)))
qf
ggplot(qf, aes(x=median_points, y=median_salary)) +
geom_point(aes(color=color, shape=factor(shape))) +
scale_color_manual(breaks=unique(dat$color), values=colr)
qf <- points_salary %>% mutate(cost_point_quartile = as.factor(ntile(cost_point, 4)))
qf
geom_point(aes(cost_point_quartile = cost_point_quartile) +
ggplot(qf, aes(x=median_points, y=median_salary)) +
geom_point(aes(cost_point_quartile = cost_point_quartile)) +
scale_color_manual(breaks=unique(cost_point_quartile$color), values=c("red", "purple", "blue", "green"))
ggplot(qf, aes(x=median_points, y=median_salary)) +
geom_point(aes(cost_point_quartile = cost_point_quartile)) +
scale_color_manual(breaks=unique(qf$cost_point_quartile), values=c("red", "purple", "blue", "green"))
ggplot(qf, aes(x=median_points, y=median_salary)) +
geom_point(aes(cost_point_quartile = cost_point_quartile)) +
scale_color_manual(breaks=unique(qf$cost_point_quartile), values=c("red", "purple", "blue", "green"))
scale_color_manual(breaks=unique(qf$cost_point_quartile)
ggplot(qf, aes(x=median_points, y=median_salary)) +
ggplot(qf, aes(x=median_points, y=median_salary)) +
geom_point(aes(cost_point_quartile = cost_point_quartile))
ggplot(qf, aes(x=median_points, y=median_salary)) +
geom_point(aes(qrtile = cost_point_quartile))
ggplot(qf, aes(x=median_points, y=median_salary)) +
geom_point(aes(color=color)) +
scale_colour_manual(values= levels(dat$color)) +
ggtitle("PC Scores")
ggplot(qf, aes(x=median_points, y=median_salary)) +
geom_point(aes(hello=cost_point_quartile)) +
scale_colour_manual(values= levels(dat$color)) +
ggtitle("PC Scores")
ggplot(qf, aes(x=median_points, y=median_salary)) +
geom_point(aes(hello=cost_point_quartile)) +
scale_colour_manual(values= "red") +
ggtitle("PC Scores")
ggplot(qf, aes(x=median_points, y=median_salary)) +
geom_point(aes(hello=cost_point_quartile)) +
scale_colour_manual(values= c("red", "green", "blue", "black")) +
ggtitle("PC Scores")
ggplot(qf, aes(x=median_points, y=median_salary)) +
geom_point(aes(hello=cost_point_quartile)) +
scale_colour_manual(values= cost_point_quartile) +
ggtitle("PC Scores")
ggplot(qf, aes(x=median_points, y=median_salary)) +
geom_point(aes(hello = qf$cost_point_quartile)) +
scale_colour_manual(values= cost_point_quartile) +
ggtitle("PC Scores")
ggplot(qf, aes(x=median_points, y=median_salary)) +
geom_point(aes(hello=qf$cost_point_quartile)) +
scale_colour_manual(values= c("red", "green", "blue", "black")) +
ggtitle("PC Scores")
ggplot(qf, aes(x=median_points, y=median_salary), col = cost_point_quartile) +
geom_point(aes(hello=qf$cost_point_quartile)) +
scale_colour_manual(values= c("red", "green", "blue", "black")) +
ggtitle("PC Scores")
ggplot(qf, aes(x=median_points, y=median_salary), col = cost_point_quartile) +
geom_point()
ggplot(qf, aes(x=median_points, y=median_salary, col = cost_point_quartile)) +
geom_point()
ggplot(qf, aes(x=mean_points, y=mean_salary, col = cost_point_quartile)) +
geom_point()
qf <- points_salary %>% mutate(cost_point_quartile = as.factor(ntile(cost_point, 4, levels = c("First Quantile", "Second Quantile", "Third Quantile", "Fourth Quantile") )))
qf <- points_salary %>% mutate(cost_point_quartile = as.factor(ntile(cost_point, 4), levels = c("First Quantile", "Second Quantile", "Third Quantile", "Fourth Quantile") )))
qf <- points_salary %>% mutate(cost_point_quartile = as.factor(ntile(cost_point, 4), levels = c("First Quantile", "Second Quantile", "Third Quantile", "Fourth Quantile")))
qf <- points_salary %>% mutate(cost_point_quartile = factor(ntile(cost_point, 4), levels = c("First Quantile", "Second Quantile", "Third Quantile", "Fourth Quantile")))
qf
factor(ntile(cost_point, 4), levels = c("First Quantile", "Second Quantile", "Third Quantile", "Fourth Quantile")
factor(ntile(cost_point, 4), levels = c("First Quantile", "Second Quantile", "Third Quantile", "Fourth Quantile"))
factor(ntile(cost_point, 4), levels = c("First Quantile", "Second Quantile", "Third Quantile", "Fourth Quantile"))
factor(ntile(cost_point, 4))
factor(ntile(qf$cost_point, 4))
factor(ntile(qf$cost_point, 4), levels = c("First Quantile", "Second Quantile", "Third Quantile", "Fourth Quantile"))
factor(ntile(cost_point, 4), levels = c("First Quantile", "Second Quantile", "Third Quantile", "Fourth Quantile"))
factor(ntile(qf$cost_point, 4), levels = c("First Quantile", "Second Quantile", "Third Quantile", "Fourth Quantile"))
levels(factor(ntile(qf$cost_point, 4)) <- c("First Quantile", "Second Quantile", "Third Quantile", "Fourth Quantile")
levels(factor(ntile(qf$cost_point, 4))) <- c("First Quantile", "Second Quantile", "Third Quantile", "Fourth Quantile")
levels(factor(ntile(qf$cost_point, 4))) <- c("First Quantile", "Second Quantile", "Third Quantile", "Fourth Quantile")
factor(ntile(qf$cost_point, 4)
(factor(ntile(qf$cost_point, 4))
(factor(ntile(qf$cost_point, 4)))
(factor(ntile(qf$cost_point, 4)))
(factor(ntile(qf$cost_point, 4)))
levels((factor(ntile(qf$cost_point, 4))))
levels(factor(ntile(qf$cost_point, 4)))
levels(factor(ntile(qf$cost_point, 4))) <- c("First Quantile", "Second Quantile", "Third Quantile", "Fourth Quantile")
z <- factor(ntile(qf$cost_point, 4)
z <- factor(ntile(qf$cost_point, 4))
z <- factor(ntile(qf$cost_point, 4)))
z <- factor(ntile(qf$cost_point, 4))
levels(z) <- c("First Quantile", "Second Quantile", "Third Quantile", "Fourth Quantile")
z
qf <- mutate(points_salary, cost_point_quartile = factor(ntile(cost_point, 4)))
View(qf)
qf <- mutate(points_salary, cost_point_quartile = factor(ntile(cost_point, 4)))
ggplot(qf, aes(x=mean_points, y=mean_salary, col = cost_point_quartile)) +
geom_point() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams")
levels(z) <- c("First Quantile", "Second Quantile", "Third Quantile", "Fourth Quantile")
qf <- mutate(points_salary, cost_point_quartile = factor(ntile(cost_point, 4)))
factor(ntile(qf$cost_point, 4), levels = c("First Quantile", "Second Quantile", "Third Quantile", "Fourth Quantile"))
levels(factor(ntile(qf$cost_point, 4))) <- c("First Quantile", "Second Quantile", "Third Quantile", "Fourth Quantile")
z <- factor(ntile(qf$cost_point, 4))
qf <- mutate(points_salary, cost_point_quartile = factor(ntile(cost_point, 4)))
levels(qf$cost_point_quartile) <- c("First Quantile", "Second Quantile", "Third Quantile", "Fourth Quantile")
ggplot(qf, aes(x=mean_points, y=mean_salary, col = cost_point_quartile)) +
geom_point() +
ggtitle("NBA Teams Ranked by Cost per Point") +
ylab("Cost per Point (in dollars)") +
xlab("Teams")
ggplot(qf, aes(x=mean_points, y=mean_salary, col = cost_point_quartile)) +
geom_point() +
ggtitle("NBA Team Mean Cost versus Mean Points Scatter Plot") +
ylab("Mean Cost (in millions)") +
xlab("Mean Points Scored")
ggplot(qf, aes(x=mean_points, y=mean_salary, col = cost_point_quartile)) +
geom_point() +
ggtitle("NBA Team Mean Cost versus Mean Points Scatter Plot") +
ylab("Mean Cost (in millions)") +
xlab("Mean Points Scored") +
scale_fill_discrete(name = "Cost Point Quartile")
ggplot(qf, aes(x=mean_points, y=mean_salary, col = cost_point_quartile)) +
geom_point() +
ggtitle("NBA Team Mean Cost versus Mean Points Scatter Plot") +
ylab("Mean Cost (in millions)") +
xlab("Mean Points Scored") +
scale_fill_discrete(name = "Cost Point Quantile")
ggplot(qf, aes(x=mean_points, y=mean_salary, col = cost_point_quartile)) +
geom_point() +
ggtitle("NBA Team Mean Cost versus Mean Points Scatter Plot") +
ylab("Mean Cost (in millions)") +
xlab("Mean Points Scored") +
guides(fill=guide_legend(title="New Legend Title"))
ggplot(qf, aes(x=mean_points, y=mean_salary, col = cost_point_quartile)) +
geom_point() +
ggtitle("NBA Team Mean Cost versus Mean Points Scatter Plot") +
ylab("Mean Cost (in millions)") +
xlab("Mean Points Scored") +
labs(color='NEW LEGEND TITLE')
ggplot(qf, aes(x=mean_points, y=mean_salary, col = cost_point_quartile)) +
geom_point() +
ggtitle("NBA Team Mean Cost versus Mean Points Scatter Plot") +
ylab("Mean Cost (in millions)") +
xlab("Mean Points Scored") +
labs(color='Cost Points Quantile')
ggplot(qf, aes(x=median_points, y=median_salary, col = cost_point_quartile)) +
geom_point() +
ggtitle("NBA Team Median Cost versus Median Points Scatter Plot") +
ylab("Mean Cost (in millions)") +
xlab("Mean Points Scored") +
labs(color='Cost Points Quantile')
library(XML)
library(xml2)
library(rvest)
library(magrittr)
# Assemble url (so it fits on screen)
basket <- "https://www.basketball-reference.com"
gsw <- "/teams/GSW/2017.html"
gsw_url <- paste0(basket, gsw)
# download HTML file to your working directory
download.file(gsw_url, 'gsw-roster-2017.html')
# Read GSW Roster html table
gsw_roster <- readHTMLTable('gsw-roster-2017.html')
gsw_roster
nba_html <- paste0(basket, "/leagues/NBA_2017.html")
xml_doc <- read_html(nba_html)
xml_text <- xml_doc %>% html_text()
# content of h2 nodes
xml_doc %>%
html_nodes("h2") %>%
html_text()
# content of h1 nodes
xml_doc %>%
html_nodes("h2") %>%
html_text()
# content of h1 nodes
xml_doc %>%
html_nodes("h1") %>%
html_text()
xml_doc %>%
html_nodes("button") %>%
html_text()
# content of h1 nodes
xml_doc %>%
html_nodes("strong") %>%
html_text()
# Assemble url (so it fits on screen)
basket <- "https://www.basketball-reference.com"
gsw <- "/teams/GSW/2017.html"
gsw_url <- paste0(basket, gsw)
# download HTML file to your working directory
download.file(gsw_url, 'gsw-roster-2017.html')
# Read GSW Roster html table
gsw_roster <- readHTMLTable('gsw-roster-2017.html')
gsw_roster
View(gsw_roster)
xml_tables %>%
html_nodes("a") %>%
html_attr("href")
xml_tables %>%
html_nodes("a") %>%
html_attr("href")
xml_tables <- xml_doc %>%
html_nodes("table") %>%
extract(1:2)
xml_tables %>%
html_nodes("a") %>%
html_attr("href")
library(stringr)
str_extract(url_ends, "[A-Z][A-Z][A-Z]")
url_ends <- xml_tables %>%
html_nodes("a") %>%
html_attr("href")
str_extract(url_ends, "[A-Z][A-Z][A-Z]")
teams <- str_extract(hrefs, "[A-Z][A-Z][A-Z]")
hrefs <- xml_tables %>%
html_nodes("a") %>%
html_attr("href")
teams <- str_extract(hrefs, "[A-Z][A-Z][A-Z]")
teams <- str_extract(hrefs, "[A-Z][A-Z][A-Z]")
files <- paste0(teams, "-roster-2017.csv")
files
hrefs[1]
basket <- "https://www.basketball-reference.com"
files <- paste0("/",teams, "-roster-2017.csv")
files
download.file('gsw-roster-2017.html')
download.file(k, 'gsw-roster-2017.html')
teams <- str_extract(hrefs, "[A-Z][A-Z][A-Z]")
files <- paste0(teams, "-roster-2017.csv")
basket <- "https://www.basketball-reference.com"
url <- paste0(basket, "/",files[i])
for (i in 1:5){
url <- paste0(basket, "/",files[i])
download.file(url, files[i])
# Read GSW Roster html table
gsw_roster <- readHTMLTable('gsw-roster-2017.html')
}
# Assemble url (so it fits on screen)
basket <- "https://www.basketball-reference.com"
gsw <- "/teams/GSW/2017.html"
gsw_url <- paste0(basket, gsw)
# download HTML file to your working directory
download.file(gsw_url, 'gsw-roster-2017.html')
# Read GSW Roster html table
gsw_roster <- readHTMLTable('gsw-roster-2017.html')
gsw_roster
gsw_roster[[1]]
lol <- gsw_roster[[1]]
paste0(basket, "/", files[i])
teams <- str_extract(hrefs, "[A-Z][A-Z][A-Z]")
teams
hrefs
url <- paste0(basket, hrefs[i])
url
download.file(url, hrefs)
download.file(url)
gsw_url
download.file(url, paste0(teams[i], '-roster-2017.html'))
# Read GSW Roster html table
table <- readHTMLTable(paste0(teams[i], '-roster-2017.html'))
for (i in 1:5){
url <- paste0(basket, hrefs[i])
download.file(url, paste0(teams[i], '-roster-2017.html'))
# Read GSW Roster html table
table <- readHTMLTable(paste0(teams[i], '-roster-2017.html'))
write.csv(table[1], file = files[i])
}
teams
base = data.frame()
read.csv(files[i])
rbind()
rbind(base, read.csv(files[i]))
base = data.frame()
base = data.frame()
for (i in 1:5){
base <- rbind(base, read.csv(files[i]))
}
base
write.csv(base, 'nba-rosters-2017.csv')
hrefs
teams <- str_extract(hrefs, "[A-Z][A-Z][A-Z]")
files <- paste0(teams, "-roster-2017.csv")
basket <- "https://www.basketball-reference.com"
for (i in 1:length(teams)){
url <- paste0(basket, hrefs[i])
download.file(url, paste0(teams[i], '-roster-2017.html'))
# Read Roster html table
table <- readHTMLTable(paste0(teams[i], '-roster-2017.html'))
# Download
write.csv(table[1], file = files[i])
}
base = data.frame()
for (i in 1:length(teams)){
base <- rbind(base, read.csv(files[i]))
}
write.csv(base, 'nba-rosters-2017.csv')
View(base)
hrefs <- xml_tables %>%
html_nodes("a") %>%
html_attr("href")
hrefs <- xml_tables %>%
html_nodes("a") %>%
html_attr("href")
hrefs
xml_tables %>%
html_nodes("a")
